<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Build →</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 237, 214, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(249, 228, 188, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="24f9672a-4957-476d-af69-e4776b9aee65" class="page sans"><header><img class="page-cover-image" src="Build%20%E2%86%92%2024f9672a4957476daf69e4776b9aee65/michaelbely_jenga_game_green_color_9fec55c7-626e-43d9-917d-d77b4495cd98.webp" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="Build%20%E2%86%92%2024f9672a4957476daf69e4776b9aee65/android.svg"/></div><h1 class="page-title">Build →</h1><p class="page-description"></p></header><div class="page-body"><table id="caebd58d-107b-4ec3-880d-2250a2101b4a" class="simple-table"><tbody><tr id="0b208fa0-c32d-4c6f-83ad-67c7e11feb7e"><td id="EsbJ" class="" style="width:592px"><a href="https://developer.android.com/build/build-variants">https://developer.android.com/build/build-variants</a></td></tr><tr id="fede5c4b-8726-4d54-ba43-15fc103306ee"><td id="EsbJ" class="" style="width:592px"><a href="https://d.android.com/studio/build/shrink-code">https://d.android.com/studio/build/shrink-code</a></td></tr><tr id="b0ffab79-4f5e-4603-9680-60079ffd0732"><td id="EsbJ" class="" style="width:592px"><a href="https://developer.android.com/tools/adb">https://developer.android.com/tools/adb</a></td></tr><tr id="6ce11159-6709-4157-a213-ecb82a2bea94"><td id="EsbJ" class="" style="width:592px"><a href="https://developer.android.com/build/dependencies">https://developer.android.com/build/dependencies</a></td></tr></tbody></table><table id="024c3997-7720-49f0-aa70-616b08706cf8" class="simple-table"><tbody><tr id="73e1d365-92f0-47ea-9809-36dcbe26fb37"><td id="{FOP" class="" style="width:101px"><mark class="highlight-brown"><code>01.10.2020</code></mark></td><td id="]kaS" class="" style="width:436px"><a href="https://habr.com/ru/articles/521522/">https://habr.com/ru/articles/521522/</a></td></tr></tbody></table><table id="1ce8fd38-a41d-414d-9003-5df96502b299" class="simple-table"><tbody><tr id="d20da865-a7d6-42ef-b7ab-c2f37dd09b2f"><td id="EsbJ" class="" style="width:273px"><a href="https://docs.gradle.org/current/userguide/compatibility.html">https://docs.gradle.org/current/userguide/compatibility.html</a></td></tr><tr id="bf614a27-e66d-4d59-ba97-947e0b724dc4"><td id="EsbJ" class="" style="width:273px"><a href="https://docs.gradle.org/current/userguide/build_environment.html">https://docs.gradle.org/current/userguide/build_environment.html</a></td></tr></tbody></table><h3 id="01f293c8-0c69-42d8-819f-0f61aa2eb292" class=""><strong>Gradle</strong></h3><p id="774e87cb-2c7d-4c90-a7b4-783eec702aa6" class="">Система автоматической сборки проектов.</p><p id="f96197b9-a976-438a-a03f-2e82eee255ed" class="">
</p><h3 id="658e7171-7216-4115-939d-b7c8eefac5b8" class="">ProGuard</h3><p id="81a56be3-4c58-4e91-9728-fad928f38a5e" class="">Инструмент оптимизации и обфускации (запутывание) Java кода. Proguard удаляет неиспользуемые классы и методы из уже скомпилированного приложения. Это позволяло решать проблему 64К методов до появления MultiDex. Java- и Dalvik-байткод легко декомпилировать. Для серверного Java-приложения это не проблема, а вот к байткоду приложения под Android доступ имеет любой пользователь. Proguard обфусцирует код, что усложняет задачу декомпиляции. Этот инструмент обрабатывает уже скомпилированный Java код, так что он должен работать с любым JVM языком. Сам язык для Proguard безразличен, важен только байткод. Все манипуляции Proguard с байткодом можно разделить на 3 основных категории: Code shrinking, Optimisation и Obfuscation.</p><p id="cd53c0b7-15aa-4365-b94a-14a2694a475f" class="">
</p><h3 id="c7e7b576-98ae-439d-8d6f-85010d48c9b7" class="">Работает в <code>Release</code> - не работает в <code>Debug</code> ?</h3><p id="4a536c43-251d-4fdc-87aa-2aa8d05cddc7" class="">Проблема в Proguard</p><p id="45c019fb-21b2-4271-ae50-0ffaed8197f3" class="">
</p><h3 id="c651df55-0e68-49a3-987b-c942ba894b40" class=""><code><strong>@Keep</strong></code></h3><p id="61c7d8c5-a764-4caa-ab00-c918584f3b31" class="">Гарантирует, что аннотированный класс или метод не будет удален при минимизации кода во время сборки. Обычно добавляется к методам и классам, доступ к которым осуществляется через рефлексию, чтобы компилятор не рассматривал код как неиспользуемый. Классы и методы @Keep всегда появляются в APK-файле, даже если вы никогда не ссылаетесь на эти классы и методы в логике приложения.</p><p id="1cbc220b-3be5-49b8-a9e0-d2adc09b5e4b" class="">
</p><h3 id="c53060da-2806-482a-a27d-a2e558aea33b" class="">R8</h3><p id="5894ca73-1be2-4c3a-aec5-c06af3cab7bd" class="">Используется вместо Proguard начиная с версии AGP 3.4.</p><p id="1fa9b7ab-c54b-47d0-ad49-32e5e011ea11" class="">
</p><h3 id="1c3a068e-d4a1-47a2-9415-ac848958f5f0" class=""><strong>Проблема 64k методов</strong></h3><p id="41432c91-6d78-47ef-9984-778e7050b662" class="">Это ограничение на количество методов в одном .dex-файле. Максимальное количество методов в .dex-файле равно 65536. На ранних версиях Андроида приложение могло иметь только один .dex-файл. Проблема 64К ограничивала количество методов в приложении. Один класс в Java может иметь максимум 64К методов. В Андроиде .dex-файл сделан по образу .class и поэтому наследует это ограничение. Причина ограничения в том, что под индексы ссылок на методы в java- и dalvik-байткоде выделено 16 бит. Т.е. максимальное число 2^16 = 65536. На ранних версиях Андроида единственным решением было уменьшение количества методов. Для этого использовался Proguard. Сейчас проблема решается включением Multidex. В этом случае приложение может иметь более одного .dex-файла.</p><p id="132e4fb2-ccbb-43ba-b2a1-536dd62690a1" class="">
</p><h3 id="53bc9404-f0cc-405f-a619-d6d35270a3fb" class="">Подключение модулей и зависимостей</h3><table id="b5285a19-c851-4d9a-8651-a0ba54b5e663" class="simple-table"><thead class="simple-table-header"><tr id="40bb0bec-fa2a-4e1d-ac30-fe0251598f82"><th id="gfv|" class="simple-table-header-color simple-table-header">Конфигурация</th><th id="Ks`l" class="simple-table-header-color simple-table-header" style="width:989px">Поведение</th></tr></thead><tbody><tr id="c728cf21-b204-42fc-ae46-afa84acc7264"><td id="gfv|" class=""><code>implementation</code></td><td id="Ks`l" class="" style="width:989px">Получить доступ к модулю или библиотеке без внутренних зависимостей. Использование улучшает время сборки.</td></tr><tr id="16611a81-c9ea-465e-b747-502cab746cd0"><td id="gfv|" class=""><code>api</code></td><td id="Ks`l" class="" style="width:989px">Замена устаревшего <code>compile</code>. Получить доступ к модулю или библиотеке. А также к модулям и библиотекам подключенным внутри. Позволяет транзитивно использовать внутренние зависимости в compiletime и runtime.</td></tr><tr id="37c8776d-2fe5-41c4-a8bb-e9436f9072d5"><td id="gfv|" class=""><code>compileOnly</code></td><td id="Ks`l" class="" style="width:989px">Зависимость доступна только в compiletime. Например библиотека только с аннотациями для генерации кода. Нельзя использовать с AAR.</td></tr><tr id="f362147f-6df2-48e4-ba37-3d1b50a98229"><td id="gfv|" class=""><code>runtimeOnly</code></td><td id="Ks`l" class="" style="width:989px">Зависимость доступна только в runtime. Редко используется. Пример - логирование в серверных приложениях.</td></tr><tr id="5645abdd-7e3b-4555-8fe7-2768752b68eb"><td id="gfv|" class=""><code>kapt</code></td><td id="Ks`l" class="" style="width:989px">Замена устаревшего <code>annotationProcessor</code>. Обработчики аннотаций поддерживаются с помощью плагина кампилятора kapt (замена annotationProcessor). Kapt использует компилятор Java для запуска обработчиков аннотаций.</td></tr><tr id="520d0641-a6db-4de0-b2bb-57b9a3bb5868"><td id="gfv|" class=""><code>ksp</code></td><td id="Ks`l" class="" style="width:989px">Kotlin Symbol Processing - используется для легковесных подключаемых модулей. Работает до 2 раз быстрее kapt. Не привязан к JVM. Минимизирует время сборки.</td></tr></tbody></table><p id="0cb574b0-d100-48a2-852f-f34c219f700d" class="">
</p><h3 id="e694ebe0-642e-4c50-84be-39d735977349" class="">Android App Bundle</h3><p id="1017f140-c583-432b-8e2b-7e655cb99a42" class="">AAB - файловый формат публикации приложений для Android. AAB содержит код и ресурсы, необходимые для конфигурации конкретного устройства. Если пользователь изменит язык устройства или набор функций, магазин приложений может запросить дополнительные разделенные APK для удовлетворения изменившихся требований.</p><p id="a4b39aca-3958-4ce6-b664-574268c096d9" class="">
</p><h3 id="bc2f5a33-fdd0-4938-a3a0-6975ed188c49" class="">NDK</h3><p id="824a4b98-db7c-4e24-82de-95d33e22c780" class="">Native Development Kit – набор инструментов, которые помогают работать с кодом, написанным на языках C и C++. NDK предоставляет API для доступа к физическим компонентам девайса, таким как сенсоры. Кроме того NDK позволяет скомпилировать и включить в APK C/C++ код, используя Gradle. NDK часто используется в геймдеве для увеличения производительности и для ручного управления памятью. Для взаимодействия нативного и Java-кода используется собственный интерфейс Java - JNI, он определяет способ взаимодействия байт-кода, который Android компилирует из управляемого кода (написанного на языках программирования Java или Kotlin), с собственным кодом (написанным на C/C++).</p><p id="6b760b3a-62e7-42a2-981f-4cfb5d42a7f9" class="">
</p><h3 id="bd4480f9-ccc5-4026-908c-3f6b707b5445" class=""><strong>JNI</strong></h3><p id="8c86efb8-68dd-4d60-897d-46523ab134b0" class="">Java Native Interface. Стандартный механизм для запуска кода под управлением JVM, который написан на языках C/C++ или Ассемблере и скомпонован в виде динамических библиотек; позволяет не использовать статическое связывание. Это даёт возможность вызова функции C/C++ из программы на Java, и наоборот.</p><p id="7ca271e0-c5b9-483e-b4fe-abd902e3c330" class="">
</p><h3 id="7f99c8a8-3cf7-4a95-b2ed-cdf3a9f97a45" class=""><strong>Android</strong></h3><p id="4fd75f01-5550-4bc8-a9a1-1d3e17147fe9" class="">ОС для смартфонов, планшетов, носимой электроники и бытовых устройств с открытым исходным кодом. Основана на ядре Linux. Android использует собственную реализацию виртуальной машины Java - ART. Позволяет запускать Java-приложения, управляющие устройством через разработанные Google библиотеки.</p><p id="74c52b7b-f094-4ab4-b6d8-6d171523c560" class="">
</p><h3 id="38a9ab1e-ab11-4a3b-945a-f8de20c5dcc2" class=""><strong>ART</strong></h3><p id="e2258b82-f551-46f8-9fab-b3fc6b8a3ff5" class="">Android Runtime (ART) - среда выполнения приложений Android, замена Dalvik, преобразовывает байт-код приложений в собственные инструкции, которые выполняются на устройстве.</p><p id="5de8bc81-5db9-4402-b4f2-8d71386b00da" class="">
</p><h3 id="44cca420-fb70-4549-ae5a-9264c4fa6300" class=""><strong>jar</strong></h3><p id="a859f2c0-cccd-431f-b2ec-3d313e386360" class="">Java Archive. Содержит классы Java, может использоваться как в Android-приложениях, так и в чистой Java. </p><p id="a6ea2abd-ec02-44c5-8cf9-c43b9aed1570" class="">
</p><h3 id="4753fed2-361d-419a-9021-7b9e342ea523" class=""><strong>aar</strong></h3><p id="d1654780-3620-405f-9bfc-0f5138fc80f1" class="">Android Archive. Аналогичен модулю приложения Android. Может включать исходный код (классы и методы Java), файлы ресурсов, манифест. Может содержать библиотеки C/C++. </p><p id="fd3ef7d1-dec5-4b47-8663-22680c7a4fa8" class="">
</p><h3 id="ff93550f-1059-4265-a4c7-4a29e46ff166" class="">Build Variants &amp; Product Flavors</h3><p id="289f4284-6db5-4d22-ad38-c66686f00568" class="">Настраиваемые варианты сборки, для создания разных версий приложения из одного проекта. Gradle использует определенный набор правил для объединения настроек, кода и ресурсов, настроенных в ваших типах сборки и вариантах продукта.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="baddf19e-75d6-4d00-a592-9b5cad912b48" class="code"><code class="language-Kotlin" style="white-space:pre-wrap;word-break:break-all">buildTypes {
    release {
        isMinifyEnabled = true
        isShrinkResources = true
        signingConfig = signingConfigs.getByName(&quot;release&quot;)
        applicationIdSuffix = MoviesBuildType.RELEASE.applicationIdSuffix
        manifestPlaceholders += mapOf(&quot;appName&quot; to &quot;@string/app_name&quot;)
        proguardFiles(getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;)
    }
    debug {
        isDebuggable = true
        isMinifyEnabled = false
        isShrinkResources = false
        applicationIdSuffix = MoviesBuildType.DEBUG.applicationIdSuffix
        manifestPlaceholders += mapOf(&quot;appName&quot; to &quot;@string/app_name_dev&quot;)
        isDefault = true
    }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="39387be9-c338-40aa-89bf-f05cb6ea88a4" class="code"><code class="language-Kotlin" style="white-space:pre-wrap;word-break:break-all">flavorDimensions += &quot;version&quot;

productFlavors {
    create(&quot;gms&quot;) {
        dimension = &quot;version&quot;
        applicationId = &quot;org.michaelbel.moviemade&quot;
        isDefault = true
    }
    create(&quot;hms&quot;) {
        dimension = &quot;version&quot;
        applicationId = &quot;org.michaelbel.movies&quot;
    }
    create(&quot;foss&quot;) {
        dimension = &quot;version&quot;
        applicationId = &quot;org.michaelbel.movies&quot;
    }
}</code></pre><p id="b812fb0c-8a75-45ab-b18e-b24e20103fc4" class="">
</p><h3 id="a53eac72-a767-4ac4-be9b-8b7f78dacb6b" class=""><strong>ANR</strong></h3><p id="6d2b84f1-82d4-4929-934c-b7f18a5edcfb" class="">Application Not Responding – системный диалог для пользователя, когда приложение зависает. Отображается если: не поступает ответа от UI (нажатие на экран) за 5 сек, broadcastReceiver не завершил выполнение за 10 сек. Частая причина ANR – IO-операции в главном потоке (чтение/запись в бд). </p><p id="aa3d52ac-fa52-45cd-bf56-44cf19c66068" class="">
</p><h3 id="dd8a6dcd-3a27-424d-b1af-bb699f7bcd71" class=""><strong>AIDL</strong></h3><p id="44e37b37-f630-445e-beaa-02f0f1494cfa" class="">Android Interface Definition Language. Язык межпроцессного взаимодействия. Разные процессы не имеют общего пространства памяти, поэтому данные между процессами передаются через сообщения. Интерфейс передачи данных создается на языке AIDL. AIDL поддерживает передачу объектов <code>Parcelable</code> и <code>Serializable</code>.</p><p id="0694c2ea-2316-4c2d-8459-c5678c032568" class="">
</p><h3 id="99d536e9-c355-47d0-9258-437db047980c" class="">APK</h3><p id="a4138e25-bd26-44d2-921f-85220a537657" class=""><a href="https://itsobes.ru/AndroidSobes/opishite-strukturu-apk-faila">Опишите структуру APK-файла</a></p><p id="7ef1a9ee-34f3-490e-8174-93008d0ce03f" class="">Android Package (APK) - формат файла приложения, используемый для распространения и установки. Содержит весь код приложения: файлы <code>.dex</code>, ресурсы, ассеты, манифест. </p><p id="e44d7b24-2a36-492c-b532-0fb63815a91e" class="">
</p><h3 id="a5a9ff74-cc84-456b-85d1-eeba1e24924d" class=""><strong>.dex</strong></h3><p id="23665722-f109-4c26-9736-2e531f0720a2" class="">DEX файл – результат компиляции кода Android-приложения. Расшифровывается как Dalvik Executable, но несмотря на это используется и на устройствах со средой исполнения ART. В Java-программах каждый .java файл компилируется в отдельный .class файл. DEX аналогичен файлам .class, но содержит байткод всего приложения (или части приложения в случае Multidex), а не одного класса</p><p id="ca2ae67a-3a9c-41f5-b6e8-ce39ee0c5370" class="">
</p><h3 id="a0f23e88-42ef-425b-b587-a438a73068bf" class=""><strong>Как уменьшить APK?</strong></h3><p id="0de5dec0-e75b-461c-854c-737383089db4" class="">Подключить Proguard, избавиться от неиспользуемых ресурсов с помощью <code>shrinkResources</code>, избавиться от ресурсов сторонних библиотек, которые не подходят под вашу локаль, с помощью <code>resConfigs</code>, использовать webp и VectorDrawable.</p><p id="0fabfe4e-9d69-4dd6-bfb2-890f560ab383" class="">
</p><h3 id="81a5cee9-dc2d-43c0-869e-9ea4715faef6" class="">Debugger</h3><p id="03fbd5c7-c0ed-47b2-a10b-9a8f696b364d" class=""> • устанавливать точки останова (поэтапное выполнение программ)<br/> • проверять значения переменных<br/></p><p id="f6741a50-5e2a-40b1-9ba2-e8f5a8a3dbb0" class=""><strong>Запустить отладку</strong></p><p id="636b79b8-0ebb-464a-9f1c-a8324e23fede" class=""> • Run -&gt; Attach Debugger to Android Process (или иконка жука со стрелкой)<br/> • Нажать иконку жука<br/> • Открыть окно Debug<br/></p><h3 id="573636bf-6fe0-479c-bfaa-9bd7ee74e333" class=""><strong>Breakpoints</strong></h3><p id="e714bdb3-e431-440d-b0fe-f41beea8e1fe" class="">Точки останова. Позволяют приостанавливать выполнение приложения на нужной строчке кода, проверять значения переменных и продолжать выполнение кода строчка за строчкой</p><p id="ab0e2b0e-a21c-4d44-bfbc-28d068a252d0" class="">
</p><h3 id="03643ea2-452f-4028-be88-700ecc4021d1" class="">Lint</h3><p id="8283d52f-e2e3-4b5a-98b3-5718f7d6d734" class=""><a href="https://d.android.com/studio/write/lint"><strong>Lint</strong></a></p><p id="00ed3360-d830-41fe-a372-1c1166c44789" class="">Инструмент сканирования кода. </p><p id="8e175600-995f-4f50-99c3-3afad8996efe" class="">
</p><h3 id="30ec1f1a-d603-41ca-b4fa-ced79d3a4cdb" class="">Ktlint</h3><p id="48e64a9e-a703-49f2-8909-d3a1d80c1ae5" class=""><a href="https://github.com/pinterest/ktlint"><strong>Ktlint</strong></a></p><p id="0b5390b9-a318-4c43-a934-e776a0f1ac70" class="">Линтер Kotlin со встроенным средством форматирования.</p><p id="782bb45b-365d-4911-8771-f16eb003874a" class="">
</p><h3 id="7976033e-8d61-421f-88bd-770a6c5bdce5" class="">Detekt</h3><p id="babbf539-50d0-49b4-a209-72ed8c8c7e9d" class=""><a href="https://github.com/detekt/detekt"><strong>Detekt</strong></a></p><p id="876031cb-b5ba-4e06-8045-e6f10a2d6fec" class="">Статический анализатор кода для Kotlin.</p><p id="01c4939f-4b73-46ce-a72a-8bd87cf17752" class="">
</p><h3 id="9825c4b2-0d41-4be1-9e5b-46bbf1014788" class="">Spotless</h3><p id="7d5ce162-4d81-42a6-8424-4abe0d9d8e67" class=""><a href="https://github.com/diffplug/spotless"><strong>Spotless</strong></a><strong> - </strong>плагин для форматирования кода.</p><p id="8b9b003f-bc78-4ea6-9c49-9e04f849d58e" class="">
</p><h3 id="4f8f21a4-7397-4020-9b59-3e81fa4ba0a9" class=""><strong>CI/CD</strong></h3><p id="809650cf-72f4-4122-a32b-16b26d98789e" class="">Непрерывная интеграция (Continuous Integration, CI) и непрерывная поставка (Continuous Delivery, CD) представляют собой культуру, набор принципов и практик, которые позволяют разработчикам чаще и надежнее развертывать изменения программного обеспечения. Цель CI — обеспечить последовательный и автоматизированный способ сборки, упаковки и тестирования приложений. Непрерывная поставка начинается там, где заканчивается непрерывная интеграция. Она автоматизирует развертывание приложений в различные окружения.</p><p id="e9935c3c-1576-47e2-a68d-48fc8f424589" class="">
</p><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0"><mark class="highlight-purple">Android Build. Вопросы на собесе</mark></summary><div class="indented"><table id="24cddc71-1346-4497-a659-6fb7b5ccf9c7" class="simple-table"><tbody><tr id="e0e2776b-8629-403d-95a7-cb990803c515"><td id="FkWA" class="" style="width:522px"><mark class="highlight-red"><strong>Q:</strong></mark> Для чего нужен ProGuard?</td></tr><tr id="209aa8e7-e5ac-42dd-80aa-e83de56e140f"><td id="FkWA" class="" style="width:522px"><mark class="highlight-red"><strong>Q:</strong></mark> Что такое проблема 64k методов?</td></tr><tr id="20ce29a6-3ea4-463d-804a-ae6502201e46"><td id="FkWA" class="" style="width:522px"><mark class="highlight-red"><strong>Q:</strong></mark> Разница между implementation и api?</td></tr><tr id="11a6c220-bac3-4cc9-b386-9e5ad5633bca"><td id="FkWA" class="" style="width:522px"><mark class="highlight-red"><strong>Q:</strong></mark> Как уменьшить APK?</td></tr><tr id="8b8e9354-0c8b-42da-abdc-8ce574fb72a4"><td id="FkWA" class="" style="width:522px"><mark class="highlight-red"><strong>Q:</strong></mark> Что происходит когда пользователь нажимает на иконку приложения?</td></tr></tbody></table></div></details><p id="4705b775-47b0-47a3-91bd-b65f78d059a0" class="">
</p><figure id="41f8119a-0368-43f9-9f94-c2329dd4fdc1" class="link-to-page"><a href="Build%20%E2%86%92%2024f9672a4957476daf69e4776b9aee65/Gradle%20Scripts%2041f8119a036843f99f94c2329dd4fdc1.html"><img class="icon" src="Build%20%E2%86%92%2024f9672a4957476daf69e4776b9aee65/Gradle%20Scripts%2041f8119a036843f99f94c2329dd4fdc1/android.svg"/>Gradle Scripts</a></figure><p id="ffd13c9e-fc57-4dcc-a781-e9692a46b04a" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>